######################################################################
**Редагування прив'язки між маршрутом та користувачем**
######################################################################

Для роботи з цим методом користувач повинен бути `авторизованим <https://wiki.edi-n.com/uk/latest/API_DOCflow/Methods/Authorization.html>`__ .

+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
|                        **Метод запиту**                        |                                               **HTTP PATCH**                                               |
+================================================================+============================================================================================================+
| **Content-Type**                                               | application/json (тіло запиту/відповіді в json форматі в тілі HTTP запиту)                                 |
+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
| **URL запиту**                                                 | **https://doc.edi-n.com/bdoc/route/users**                                                                 |
+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
| **Параметри, що передаються в URL (разом з адресою методу)**   | В рядку заголовка (Header) "Set-Cookie" обов'язково передається **SID** - токен, отриманий при авторизації |
+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
| **Обов'язкові параметри, що передаються в тілі запиту (json)** | **routeId, isOwner, userId**                                                                               |
+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+

**JSON-параметри в тілі HTTP запиту/відповіді**
*******************************************************************

``REQUEST``

Таблиця 1 - Опис json-параметрів **запиту** методу API

+-----------+--------------------+---------------------+-----------------------------------+
| Параметр  | Mandatory/Optional |       Формат        |               Опис                |
+===========+====================+=====================+===================================+
| routeId   | M                  | long                | id маршруту                       |
+-----------+--------------------+---------------------+-----------------------------------+
| **users** | M                  | ArrayList<**User**> | масив об'єктів; дані користувачів |
+-----------+--------------------+---------------------+-----------------------------------+

+-----------------+--------------------+--------+-------------------------------------------+
| **Об'єкт User** | Mandatory/Optional | Формат |                   Опис                    |
+=================+====================+========+===========================================+
| userId          | M                  | long   | id користувача                            |
+-----------------+--------------------+--------+-------------------------------------------+
| isOwner         | M                  | long   | ознака власника аккаунту; 0 - ні, 1 - так |
+-----------------+--------------------+--------+-------------------------------------------+

``RESPONSE``

Опис json-параметрів **відповіді** метода API (об'єкт **PackageRoute**)

Таблиця 2 - Опис параметрів об'єкта **PackageRoute**

.. csv-table:: 
  :file: for_csv/PackageRoute.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

Таблиця 3 - Опис параметрів об'єкта **User**

.. csv-table:: 
  :file: for_csv/User.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

--------------

**Приклади**
*****************

Приклад тіла **запиту** (json):

.. code:: ruby

    приклад відсутній

--------------

Приклад тіла **відповіді** (json): 

.. code:: ruby

	{
	  "routeId": 251,
	  "companyId": 4,
	  "name": "vvvv",
	  "code": "3ea391f8309246d4b8a6447f406abebf",
	  "status": 2,
	  "users": [
	    {
	      "userId": 473,
	      "accountId": 8,
	      "email": "test@test33232",
	      "isOwner": 0,
	      "isCaptcha": 1,
	      "fio": "test test ",
	      "companies": [],
	      "status": 1,
	      "roles": [],
	      "routes": [],
	      "passSecureType": 2,
	      "passPolicyId": 282,
	      "lastLoginIp": "0.0.0.0",
	      "lastLoginDate": 0,
	      "uiTypes": [],
	      "userAccess": {}
	    },
	    {
	      "userId": 487,
	      "accountId": 8,
	      "email": "fdsfdsfds@dfsfs.ua",
	      "isOwner": 0,
	      "isCaptcha": 1,
	      "fio": "fdsfds",
	      "companies": [],
	      "status": 1,
	      "roles": [],
	      "routes": [],
	      "passSecureType": 2,
	      "passPolicyId": 282,
	      "lastLoginIp": "0.0.0.0",
	      "lastLoginDate": 0,
	      "uiTypes": [],
	      "userAccess": {}
	    }
	  ],
	  "contracts": [],
	  "packageTypes": [],
	  "isAllContracts": false,
	  "isAllPackageTypes": false,
	  "direction": 1
	}


