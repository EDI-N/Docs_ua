#################################################################################################
**Додавання підпису до документу**
#################################################################################################

Для роботи з цим методом користувач повинен бути `авторизованим <https://wiki.edin.ua/uk/latest/API_DOCflow/Methods/Authorization.html>`__ .

+--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+-----+
|                       **Метод запиту**                       |                                                **HTTP PUT**                                                |     |
+==============================================================+============================================================================================================+=====+
| **Content-Type**                                             | application/form-data/json (тіло HTTP запиту в form-data /тіло відповіді в json форматі)                   |     |
+--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+-----+
| **URL запиту**                                               |   **https://doc.edin.ua/bdoc/store/package/document/sign**                                                 |     |
|                                                              |                                                                                                            |     |
+--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+-----+
| **Параметри, що передаються в URL (разом з адресою методу)** | В рядку заголовка (Header) "Set-Cookie" обов'язково передається **SID** - токен, отриманий при авторизації |     |
|                                                              |                                                                                                            |     |
|                                                              | **Обов'язкові url-параметри:**                                                                             |     |
|                                                              |                                                                                                            |     |
|                                                              | **document_id** - ID документу                                                                             |     |
|                                                              |                                                                                                            |     |
|                                                              | **body_id** - ID тіла документу                                                                            |     |
|                                                              |                                                                                                            |     |
|                                                              | **package_id** - ID комплекта документов (пакета)                                                          |     |
|                                                              |                                                                                                            |     |
+--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+-----+

**JSON-параметри в тілі HTTP запиту/відповіді**
***********************************************************

``REQUEST``

В цьому методі в form-data **запиту** передається файл тіла підпису до документа (один або кілька файлів).

``RESPONSE``

У **відповідь** передаються дані комплекту (об'єкт **Package**).

Таблиця 1 - Опис параметрів об'єкта **Package**

.. csv-table:: 
  :file: for_csv/Package.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

Таблиця 2 - Опис параметрів об'єкта **Company**

.. csv-table:: 
  :file: for_csv/Company.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

Таблиця 3 - Опис параметрів об'єкта **Contract**

.. csv-table:: 
  :file: for_csv/Contract.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

Таблиця 4 - Опис параметрів об'єкта **DocumentStore**

.. csv-table:: 
  :file: for_csv/DocumentStore.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

Таблиця 5 - Опис параметрів об'єкта **Package2Dictionaries**

.. csv-table:: 
  :file: for_csv/Package2Dictionaries.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

Таблиця 6 - Опис параметрів об'єкта **Package2ExtraField**

.. csv-table:: 
  :file: for_csv/Package2ExtraField.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

Таблиця 7 - Опис параметрів об'єкта **Dictionary**

.. csv-table:: 
  :file: for_csv/Dictionary.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0 

**Приклади**
*********************************

**При використанні методу json-тіло запиту відсутнє (дані передавати не потрібно)**

--------------

Приклад тіла **відповіді** в json форматі 

.. code:: ruby

  {
      "packageId": 1966,
      "senderCompanyId": 2,
      "recipientCompanyId": 8,
      "senderCompany": {
      },
      "recipientCompany": {
      },
      "contract": {
          "contractId": 10,
          "number": "2000",
          "contractName": "Владелец \"ДП НИВА\" - Клиент \"Антсукевич\"",
          "date": 1530403200,
          "ownerCompany": {
          },
          "clientCompany": {
          },
      "packageTypeId": 8,
      "dateCreated": 1540286988,
      "dateChanged": 1540287270,
      "status": 1,
      "archive": 0,
      "packageNumber": "1540286988",
      "documents": [
      ],
      "package2Dictionaries": [
      ],
      "extraFields": [
      ],
      "contractDictionaries": [
      ],
      "isRead": 0,
      "isReadFromApi": 0,
      "isReadyForSend": 1,
      "packageDirection": 2,
      "packageUuid": "693ffb23-6b13-4d49-999d-7368e7069c2a"
  }



