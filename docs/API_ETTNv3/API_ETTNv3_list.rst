APIv3
###########

.. hint::
    Всі запити нижче перерахованих API методів сервісу "ЕТТН" направляються на адресу: https://edo-v2.edin.ua 

Авторизація
==============

+-----------+-----------------------------+-------------------------------------------------------------------------------------------------+
| **Метод** |       **URL запиту**        |                                            **Опис**                                             |
+===========+=============================+=================================================================================================+
| POST      | ``/api/authorization/hash`` | `Авторизація <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/Authorization.html>`__            |
+-----------+-----------------------------+-------------------------------------------------------------------------------------------------+
| GET       | ``/api/auth_check``         | `Перевірка активності сесії <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/AuthCheck.html>`__ |
+-----------+-----------------------------+-------------------------------------------------------------------------------------------------+

Робота з е-ТТН
============================

+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |               **URL запиту**               |                                                                         **Опис**                                                                          |
+===========+============================================+===========================================================================================================================================================+
| POST      | ``/api/ettn/eds/ecmr/ettn``           | `Створення/редагування чернетки "Електронної товарно-транспортної накладної" (е-ТТН) <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateEcmrEttn.html>`__                                             |
+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET      | ``/api/ettn/eds/ecmr/body``               | `4444444444 підписання <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateEttnV2XML.html>`__                              |
+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
























+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |               **URL запиту**               |                                                                         **Опис**                                                                          |
+===========+============================================+===========================================================================================================================================================+
| POST      | ``/api/ettn/eds/ettn/consignor``           | `Створення чернетки нової е-ТТН <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateConsignorETTN.html>`__                                             |
+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/doc/v2/xml``               | `Створення XML документа для подальшого підписання <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateEttnV2XML.html>`__                              |
+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/v2/eds/doc/body``              | `Отримання (завантаження) документа сервісу «ЕТТН» в JSON/XML/PDF/ZIP форматі <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetDocumentBodyV2.html>`__ |
|           |                                            |                                                                                                                                                           |
|           | ``/api/ettn/doc/xml``                      | `Отримання (завантаження) документа сервісу «ЕТТН» в JSON/XML/PDF/ZIP форматі <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetDocArchive.html>`__     |
+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/doc/xml/v2/sign``          | `Підписання даних сервісу "ЕТТН" (збереження підпису) <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/SaveEttnV2Sign.html>`__                            |
+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/doc/read``                 | `Відмітити документ, як "прочитаний" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/MarkDocumentAsRead.html>`__                                         |
+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/v2/eds/doc/body/final``        | `Отримання фінальної версії е-ТТН (разом зі змінами, що були внесені актами) <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetEttnBodyFinal.html>`__   |
+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/v2/eds/doc/processing_status`` | `Відправка статуса обробки документа ТТН <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/SetProcessingStatus.html>`__                                    |
+-----------+--------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+



Робота з іншими документами сервісу "ЕТТН"
============================================

+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |             **URL запиту**             |                                                                        **Опис**                                                                        |
+===========+========================================+========================================================================================================================================================+
| POST      | ``/api/ettn/eds/doc/attachment``       | `Створення вкладення до документа <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateDocAttachment.html>`__                                        |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/attachment``       | `Отримання вкладення документа сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetDocAttachment.html>`__                               |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| DELETE    | ``/api/ettn/eds/doc/attachment``       | `Видалення вкладення документа сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/DelDocAttachment.html>`__                               |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/booking``              | `Створення/редагування чернетки "Заявка на транспортування" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateBooking.html>`__                    |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/booking/confirmation`` | `Створення/редагування чернетки "Підтвердження транспортування" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateBookingConfirmation.html>`__    |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/acceptance``           | `Створення/редагування чернетки "Акта приймання-передавання" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateAcceptance.html>`__                |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/discrepancy``          | `Створення/редагування чернетки "Акта розбіжностей" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateDiscrepancy.html>`__                        |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/completion``           | `Створення/редагування чернетки "Акта виконаних робіт" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateCompletion.html>`__                      |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/doc/from_draft``       | `Створення документу еТТН на основі чернетки, створеної контрагентом <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateFromDraftDocument.html>`__ |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/doc/send``             | `Відправка документа сервісу "ЕТТН" з Чернеток <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/DocSend.html>`__                                       |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/docs``                 | `Видалення документів сервісу "ЕТТН" з "Чернеток" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/DelDocs.html>`__                                    |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/doc/clone``            | `Створити копію документа сервісу "ЕТТН" / Замінити документ е-ТТН <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/DocClone.html>`__                  |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc``                  | `Отримання документа сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetDoc.html>`__                                                   |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/chain``                | `Отримання ланцюжка документів сервісу "ЕТТН" по id ланцюжка чи id документа <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetChain.html>`__        |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/body``             | `Отримання тіла документа сервісу "ЕТТН" в json форматі <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetDocBody.html>`__                           |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/signers``          | `Отримання даних підписантів документа сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetSignersInfo.html>`__                         |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/links``            | `Отримання пов'язаних документів сервісу "ETTN" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetLinks.html>`__                                     |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/xml/ticket``       | `Отримання даних документа сервісу "ЕТТН" для підписання <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetTicket.html>`__                           |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/tickets``          | `Отримання всіх квитанцій вказаного документа <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetTickets.html>`__                                     |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/doc/confirm``          | `Підтвердити документ сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/DocConfirm.html>`__                                              |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| PUT       | ``/api/ettn/eds/doc/reject``           | `Відмовити в підписанні документа сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/DocReject.html>`__                                   |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/chains/search``        | `Отримання списку ланцюжків документів сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetChainsList.html>`__                          |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/docs/search``          | `Отримання списку документів сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetDocList.html>`__                                       |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/doc/xml/sign``         | `Підписання даних сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/SaveSignedData.html>`__                                              |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/chains/archive``       | `Заархівувати всі документи у вказаному ланцюжку <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/ArcChains.html>`__                                   |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/doc/comment``          | `Додати коментар до документа сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/AddComment.html>`__                                      |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/ettn/eds/doc/comments``         | `Отримання коментарів до документу сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetComments.html>`__                                |
+-----------+----------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+

Робота з актами ("Акт перевантаження", "Акт розбіжностей до ТТН")
----------------------------------------------------------------------------------------------------

+-----------+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |           **URL запиту**           |                                                                               **Опис**                                                                                |
+===========+====================================+=======================================================================================================================================================================+
| POST      | ``/api/ettn/eds/reload``           | `Створення/редагування чернетки "Акта перевантаження" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateReload.html>`__                                          |
+-----------+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/disagreement``     | `Створення/редагування чернетки "Акта розбіжностей" до е-ТТН <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateDisagreement.html>`__                             |
+-----------+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/warehouse_change`` | `Створення/редагування чернетки "Акта про заміну пункту призначення вантажу" до е-ТТН <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateWarehouseChange.html>`__ |
+-----------+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/adjustment``       | `Створення/редагування чернетки "Акта коригування" до е-ТТН <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateAdjustment.html>`__                                |
+-----------+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/act/xml``          | `Створення XML Акта для подальшого підписання <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CreateActXml.html>`__                                                  |
+-----------+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/ettn/eds/act/sign``         | `Підписання "Акта" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/SaveActSign.html>`__                                                                              |
+-----------+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/ettn/eds/act/send``         | `Відправка "Акта" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/SendAct.html>`__                                                                                   |
+-----------+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PUT       | ``/api/ettn/eds/act/reject``       | `Відхилити "Акт" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/RejectAct.html>`__                                                                                  |
+-----------+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Робота з довідниками
============================

+-----------+------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |              **URL запиту**              |                                                                                   **Опис**                                                                                   |
+===========+==========================================+==============================================================================================================================================================================+
| POST      | ``/api/oas/v2/exdata``                   | `Отримання даних компанії, співробітників, адрес з довідників сервісу "ЕТТН" <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/ExtraData.html>`__                             |
+-----------+------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/company/search``           | `Отримання даних про компанію за назвою / ІНН / ЄДРПОУ <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/CompanySearch.html>`__                                               |
+-----------+------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/company/employees/search`` | `Отримання даних співробіника компанії за прізвищем / ІПН / номером посвідчення водія <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/EmployeesSearch.html>`__              |
+-----------+------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/company/addresses/search`` | `Отримання адреси з довідника компанії за назвою / містом / вулицею / кодом КОАТУУ / кодом КАТОТТГ <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/AddressesSearch.html>`__ |
+-----------+------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/katottg/search``           | `Отримання данних КАТОТТГ за кодом / назвою населеного пункту <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/SearchKatottg.html>`__                                        |
+-----------+------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/v2/company``                  | `Отримання даних про компанію по ідентифікатору компанії <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetCompany.html>`__                                                |
+-----------+------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/invitation``                  | `Отримання запрошення для незареєстрованого користувача в сервісі ЕТТН <https://wiki.edin.ua/uk/latest/API_ETTNv3/Methods/GetInvitation.html>`__                               |
+-----------+------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


.. toctree::
   :hidden:
   :glob:

   Methods/*

