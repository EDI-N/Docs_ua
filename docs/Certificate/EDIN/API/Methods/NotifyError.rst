#############################################################################################################
**Відправка скарг по сертифікатам**
#############################################################################################################

Для роботи з цим методом користувач повинен бути `авторизованим <https://wiki.edin.ua/uk/latest/Certificate/EDIN/API/Methods/Authorization.html>`__ .

+--------------------------------------------------------------+--------------------------------------------------------------+
|                       **Метод запиту**                       |                        **HTTP POST**                         |
+==============================================================+==============================================================+
| **Content-Type**                                             | application/json (тіло HTTP запиту/відповіді в json форматі) |
+--------------------------------------------------------------+--------------------------------------------------------------+
| **URL запиту**                                               | **https://edo.edin.ua/Api/V1/Certificate/NotifyError**       |
+--------------------------------------------------------------+--------------------------------------------------------------+
| **Параметри, що передаються в URL (разом з адресою методу)** | -//-                                                         |
+--------------------------------------------------------------+--------------------------------------------------------------+

**JSON-параметри в тілі HTTP запиту/відповіді**
*******************************************************************

``REQUEST``

Таблиця 1 - Опис json-параметрів **запиту**

+------------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|  Параметр  | Mandatory/Optional |  Формат  |                                                                                                Опис                                                                                                 |
+============+====================+==========+=====================================================================================================================================================================================================+
| varToken​  | M                  | String   | токен, отриманий при `авторизації <https://wiki.edin.ua/uk/latest/Certificate/EDIN/API/Methods/Authorization.html>`__                                                                               |
+------------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| cert_id    | M                  | int (11) | id сертифіката (intCertID)                                                                                                                                                                          |
+------------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| type_error | M                  | int      | код типу помилки; 1 - Відсутність файлу скан-копії, 2 - Відсутність прив'язки до товару, 3 - Некоректні дані картки, 4 - Некоректний файл скан-копії, 5 - Некоректні прив'язки до категорії товарів |
+------------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| text       | O...M              | text     | текст скарги                                                                                                                                                                                        |
+------------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

``RESPONSE``

Таблиця 2 - Опис json-параметрів **відповіді** метода API

+--------------+--------------------+--------+-----------------------+
|   Параметр   | Mandatory/Optional | Формат |         Опис          |
+==============+====================+========+=======================+
| ​varMessage​ |                    | String | повідомлення сервера  |
+--------------+--------------------+--------+-----------------------+
| ​intCode​    |                    | int    | код відповіді сервера |
+--------------+--------------------+--------+-----------------------+

--------------

**Приклади**
*****************

Приклад тіла **запиту** в json форматі:

.. code:: ruby

  {
  "varToken":"jl4k81iq15utvdqtihghk38kk1",
  "cert_id":"3001",
  "type_error":"2",
  "text":"Тест тест тест"
  }

--------------

Приклад тіла **відповіді** в json форматі: 

.. code:: ruby

	{
	  "varMessage": "Success!",
	  "intCode": 200
	}

.. include:: NotifyError_errors.rst
