#############################################################################################################
**Додавання до сертифіката скан-копії (в будь-якому форматі)**
#############################################################################################################

Для роботи з цим методом користувач повинен бути `авторизованим <https://wiki.edin.ua/uk/latest/Certificate/EDIN/API/Methods/Authorization.html>`__ .

.. hint:: Метод використовується для сертифікатів (без прикріпленого файлу), власником якогоє GLN, до якого підв'язаний авторизований користувач.

+--------------------------------------------------------------+--------------------------------------------------------------+
|                       **Метод запиту**                       |                        **HTTP POST**                         |
+==============================================================+==============================================================+
| **Content-Type**                                             | application/json (тіло HTTP запиту/відповіді в json форматі) |
+--------------------------------------------------------------+--------------------------------------------------------------+
| **URL запиту**                                               | **https://edo.edin.ua/Api/V1/Certificate/AttachScan**        |
+--------------------------------------------------------------+--------------------------------------------------------------+
| **Параметри, що передаються в URL (разом з адресою методу)** | -//-                                                         |
+--------------------------------------------------------------+--------------------------------------------------------------+

**JSON-параметри в тілі HTTP запиту/відповіді**
*******************************************************************

``REQUEST``

Таблиця 1 - Опис json-параметрів **запиту**

+-----------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------+
| Параметр  | Mandatory/Optional |  Формат  |                                                         Опис                                                          |
+===========+====================+==========+=======================================================================================================================+
| varToken​ | M                  | String   | токен, отриманий при `авторизації <https://wiki.edin.ua/uk/latest/Certificate/EDIN/API/Methods/Authorization.html>`__ |
+-----------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------+
| cert_id   | M                  | int (11) | id сертифіката (intCertID)                                                                                            |
+-----------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------+
| file_body | M                  | String   | тіло файлу (завантаженної скан-копії) в форматі base64                                                                |
+-----------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------+
| file_name | M                  | String   | назва файлу                                                                                                           |
+-----------+--------------------+----------+-----------------------------------------------------------------------------------------------------------------------+

``RESPONSE``

Таблиця 2 - Опис json-параметрів **відповіді** метода API

+--------------+--------------------+--------+-----------------------+
|   Параметр   | Mandatory/Optional | Формат |         Опис          |
+==============+====================+========+=======================+
| file_id      |                    | String | id доданої скан-копії |
+--------------+--------------------+--------+-----------------------+
| ​varMessage​ |                    | String | повідомлення сервера  |
+--------------+--------------------+--------+-----------------------+
| ​intCode​    |                    | int    | код відповіді сервера |
+--------------+--------------------+--------+-----------------------+

--------------

**Приклади**
*****************

Приклад тіла **запиту** в json форматі:

.. code:: ruby

  {
      "cert_id": "2199",
      "file_body": "JVBERi0xLjQK...NTcKJSVFT0Y=",
      "varToken": "jl4k81iq15utvdqtihghk38kk1",
      "file_name":"test2"
  }

--------------

Приклад тіла **відповіді** в json форматі: 

.. code:: ruby

  {
  "file_id": "5071",
  "varMessage": "Success!",
  "intCode": 200
  }

.. include:: AttachScan_errors.rst
