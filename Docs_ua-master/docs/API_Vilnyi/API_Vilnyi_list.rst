API
###########

.. hint::
    Всі запити нижче перерахованих API методів сервісу "Вільний" направляються на адресу: https://edo-v2.edin.ua 

Авторизація
==============

+-----------+-----------------------------+---------------------------------------------------------------------------------------------------+
| **Метод** |       **URL запиту**        |                                             **Опис**                                              |
+===========+=============================+===================================================================================================+
| POST      | ``/api/authorization/hash`` | `Авторизація <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/Authorization.html>`__            |
+-----------+-----------------------------+---------------------------------------------------------------------------------------------------+

.. beauty list

.. toctree::
   :hidden:
   :glob:

   Methods/Authorization
   Methods/AuthCheck

Робота з документами
============================

+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |           **URL запиту**            |                                                           **Опис**                                                            |
+===========+=====================================+===============================================================================================================================+
| POST      | ``/api/sd/eds/doc``                 | `Створити документ з метаданими (чернетку) <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/PostDocument.html>`__           |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/sd/eds/doc``                 | `Отримати документ <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/GetDocument.html>`__                                    |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/sd/eds/doc``                 | `Редагувати метадані документа (чернетка) <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/PatchDocument.html>`__           |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| DELETE    | ``/api/sd/eds/doc``                 | `Видалити документ (чернетку) <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/DelDocument.html>`__                         |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/sd/eds/doc/decline``         | `Відхилити вхідний документ <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/DeclineDocument.html>`__                       |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/sd/eds/doc/zip``             | `Завантажити документ (zip-архів) <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/DocumentZip.html>`__                     |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/sd/eds/doc/body``            | `Отримати метадані документа <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/GetDocumentBody.html>`__                      |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/sd/eds/doc/send``            | `Відправити документ (чернетку) <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/SendDocument.html>`__                      |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/sd/eds/doc/important``       | `Відмітити документа, як "важливий" / "звичайний" <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/SetImportant.html>`__    |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/sd/eds/docs/search``         | `Отримати список документів <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/SearchDocuments.html>`__                       |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+
| PATCH     | ``/api/sd/eds/doc/send/recipients`` | `Додати отримувача до відправленого документа <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/SendToNewRecipients.html>`__ |
+-----------+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------+

.. beauty list

.. toctree::
   :hidden:
   :glob:

   Methods/PostDocument
   Methods/GetDocument
   Methods/PatchDocument
   Methods/DelDocument
   Methods/DeclineDocument
   Methods/DocumentZip
   Methods/GetDocumentBody
   Methods/SendDocument
   Methods/SetImportant
   Methods/SearchDocuments
   Methods/SendToNewRecipients

Робота з файлами (вкладення до документа)
========================================================

+-----------+--------------------------------+---------------------------------------------------------------------------------------------------------------+
| **Метод** |         **URL запиту**         |                                                   **Опис**                                                    |
+===========+================================+===============================================================================================================+
| POST      | ``/api/sd/eds/doc/attachment`` | `Додати файл до документа-чернетки <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/PostAttachment.html>`__ |
+-----------+--------------------------------+---------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/sd/eds/doc/attachment`` | `Отримати файл-вкладення <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/GetAttachment.html>`__            |
+-----------+--------------------------------+---------------------------------------------------------------------------------------------------------------+
| DELETE    | ``/api/sd/eds/doc/attachment`` | `Видалити файл-вкладення (чернетка) <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/DelAttachment.html>`__ |
+-----------+--------------------------------+---------------------------------------------------------------------------------------------------------------+

.. beauty list

.. toctree::
   :hidden:
   :glob:

   Methods/PostAttachment
   Methods/GetAttachment
   Methods/DelAttachment

Підписання
============================

+-----------+-------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |           **URL запиту**            |                                                               **Опис**                                                               |
+===========+=====================================+======================================================================================================================================+
| POST      | ``/api/sd/eds/doc/sign``            | `Підписати документ <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/PostSign.html>`__                                             |
+-----------+-------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/sd/eds/doc/sign``            | `Отримати дані про підписання файлу-вкладення <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/GetSign.html>`__                    |
+-----------+-------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/sd/eds/doc/create_and_send`` | `Створення та відправка документа (без створення чернетки) <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/CreateAndSend.html>`__ |
+-----------+-------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------+

.. beauty list

.. toctree::
   :hidden:
   :glob:

   Methods/PostSign
   Methods/GetSign
   Methods/CreateAndSend

Робота з довідниками
========================================================

+-----------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |          **URL запиту**          |                                                                          **Опис**                                                                           |
+===========+==================================+=============================================================================================================================================================+
| GET       | ``/api/oas/v2/employees/search`` | `Отримання даних контрагента за ім'ям / ІПН / email / ЄДРПОУ / номером телефону <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/SearchEmployees.html>`__ |
+-----------+----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. beauty list

.. toctree::
   :hidden:
   :glob:

   Methods/SearchEmployees

Контрагенти
============================

+-----------+------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод** |        **URL запиту**        |                                                                         **Опис**                                                                         |
+===========+==============================+==========================================================================================================================================================+
| POST      | ``/api/oas/partner``         | `Додати в сервіс дані нового контрагента / Редагувати дані контрагента <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/PostPartnerController.html>`__ |
+-----------+------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/partner``         | `Отримати дані контрагента (розділ "Контрагенти") <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/GetPartnerController.html>`__                       |
+-----------+------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/oas/partners``        | `Завантажити в сервіс список контрагентів з Excel <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/PostPartnerList.html>`__                            |
+-----------+------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET       | ``/api/oas/partners``        | `Отримати список контрагентів (розділ "Контрагенти") <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/GetPartnerList.html>`__                          |
+-----------+------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST      | ``/api/oas/partners/invite`` | `Відправити запрошення контрагентам <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/SendPartnersInvitation.html>`__                                   |
+-----------+------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+

.. beauty list

.. toctree::
   :hidden:
   :glob:

   Methods/PostPartnerController
   Methods/GetPartnerController
   Methods/PostPartnerList
   Methods/GetPartnerList
   Methods/SendPartnersInvitation

Робота з тегами
============================

+-----------+-------------------------------+--------------------------------------------------------------------------------------------------------+
| **Метод** |        **URL запиту**         |                                                **Опис**                                                |
+===========+===============================+========================================================================================================+
| POST      | ``/api/sd/eds/employee/tags`` | `Створити новий тег <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/PostTags.html>`__               |
+-----------+-------------------------------+--------------------------------------------------------------------------------------------------------+
| GET       | ``/api/sd/eds/employee/tags`` | `Отримати теги <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/GetTags.html>`__                     |
+-----------+-------------------------------+--------------------------------------------------------------------------------------------------------+
| PUT       | ``/api/sd/eds/employee/tags`` | `Редагувати тег <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/PutTags.html>`__                    |
+-----------+-------------------------------+--------------------------------------------------------------------------------------------------------+
| DELETE    | ``/api/sd/eds/employee/tags`` | `Видалити тег <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/DelTags.html>`__                      |
+-----------+-------------------------------+--------------------------------------------------------------------------------------------------------+
| POST      | ``/api/sd/eds/doc/tags``      | `Додати теги до документа <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/PostDocumentTags.html>`__ |
+-----------+-------------------------------+--------------------------------------------------------------------------------------------------------+
| DELETE    | ``/api/sd/eds/doc/tags``      | `Вилучити теги з документа <https://wiki.edin.ua/uk/latest/API_Vilnyi/Methods/DelDocumentTags.html>`__ |
+-----------+-------------------------------+--------------------------------------------------------------------------------------------------------+

.. beauty list

.. toctree::
   :hidden:
   :glob:

   Methods/PostTags
   Methods/GetTags
   Methods/PutTags
   Methods/DelTags
   Methods/PostDocumentTags
   Methods/DelDocumentTags

---------------------------------

.. _main-errors:

Загальні помилки при роботі з API (всі сервіси EDIN)
=========================================================================================

.. csv-table:: 
  :file: /_constant/common_api_errors.csv
  :widths:  10, 20, 20, 40
  :stub-columns: 0

.. csv-table:: 
  :file: /_constant/main_api_errors.csv
  :widths:  10, 20, 60
  :stub-columns: 0

.. old auto list (deprecated)

    .. toctree::
    :hidden:
    :glob:

    Methods/*