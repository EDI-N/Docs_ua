#############################################################
**Створення/редагування структурованого документа**
#############################################################


Для роботи з цим методом користувач повинен бути `авторизованим <https://wiki.edin.ua/uk/latest/API_DOCflow/Methods/Authorization.html>`__ .

+--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
|                       **Метод запиту**                       |                                               **HTTP POST**                                                |
+==============================================================+============================================================================================================+
| **Content-Type**                                             | application/json (тіло запиту/відповіді в json форматі в тілі HTTP запиту)                                 |
+--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
| **URL запиту**                                               |   **https://doc.edin.ua/bdoc/store/package/document/structure**                                            |
+--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
| **Параметри, що передаються в URL (разом з адресою методу)** | В рядку заголовка (Header) "Set-Cookie" обов'язково передається **SID** - токен, отриманий при авторизації |
+--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+

**JSON-параметри в тілі HTTP запиту/відповіді**
*******************************************************************

``REQUEST``

Опис json-параметрів **запиту** метода API (об'єкт **DocumentStore**)

Таблиця 1 - Опис параметрів об'єкта **DocumentStore**

.. csv-table:: 
  :file: for_csv/DocumentStore.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

``RESPONSE``

Опис json-параметрів **відповіді** метода API (об'єкт **DocumentStore**)

Таблиця 2 - Опис параметрів об'єкта **DocumentStore**

.. csv-table:: 
  :file: for_csv/DocumentStore.csv
  :widths:  1, 12, 41
  :header-rows: 1
  :stub-columns: 0

--------------

**Приклади**
*****************

Приклад тіла **запиту** (json):

.. code:: ruby

	{
	  "packageId": 1982,
	  "documentType": {
	    "documentId": 1086
	  },
	  "number": "99999",
	  "date": 1526947200,
	  "structure": [
	    {
	      "id": "Тег1",
	      "structure": [
	        [
	          {
	            "id": "Тег2",
	            "structure": null,
	            "value": "Имя файла"
	          },
	          {
	            "id": "Тег3",
	            "structure": [
	              [
	                {
	                  "id": "Тег4",
	                  "structure": null,
	                  "value": "20820657",
	                  "index": 0
	                }
	              ]
	            ],
	            "value": 11111
	          }
	        ]
	      ],
	      "value": 1222
	    }
	  ]
	}

--------------

Приклад тіла **відповіді** (json): 

.. code:: ruby

	{
	  "documentId": 1662,
	  "packageId": 1982,
	  "senderCompanyId": 2,
	  "documentType": {
	    "documentId": 1086,
	    "companyId": 2,
	    "name": "Для тест ",
	    "type": 2,
	    "code": "sdoc1",
	    "isActive": 1,
	    "structures": [
	      {
	        "id": 1086,
	        "structure": [
	          {}
	        ],
	        "version": 1,
	        "status": 1,
	        "dateUpdate": 1540280767
	      }
	    ]
	  },
	  "number": "99999",
	  "date": 1526947200,
	  "dateSent": 0,
	  "clientSignsCount": 0,
	  "ownerSignsCount": 0,
	  "status": 1,
	  "comment": "aaaa",
	  "versionStructure": 1,
	  "bodies": [
	    {
	      "bodyId": 1662,
	      "documentId": 1662,
	      "fileName": "99999_1526947200_1662.xml",
	      "signBodies": []
	    }
	  ],
	  "structure": [
	    {
	      "id": "Тег1",
	      "value": "1222",
	      "index": 0,
	      "structure": []
	    }
	  ],
	  "isReadFromApi": 0
	}


