FTP/FTPS/FTP over SSL
###########################

Структура сервера:
******************************************

- **inbox/** - каталог з вхідними документами
- **cinbox/** - каталог з вхідними документами, зі спец. настройками
- **outbox/** - каталог для вихідних документів
- **coutbox/** - каталог для вихідних документів, зі спец. настройками
- **error/** - каталог з помилковими документами, які не оброблені системою
- **reports/** - каталог для вихідних спец. документів ДФС
- **transit/** - службовий каталог

Примітки щодо використання:
**************************************

.. Адреса сервера обміну ftp://ftp.edin.ua

Якщо ви використовуєте формат обміну даними EDIN, то робочими папками будуть **/outbox/** і **/inbox/**, а якщо використовуєте інший, раніше обумовлений формат обміну даними, то робочими папками будуть: **/coutbox/** і **/cinbox/**.

За замовчуванням файли, які ви відправляєте, будуть з'являтися в веб-інтерфейсі системи у вкладці «Чернетки», але не будуть відправлятися в роздрібну мережу. Для настройки автоматичної відправки потрібен письмовий запит від користувача на адресу **integration@edin.ua**.

.. important:: Увага, в іменах файлів для завантаження повинні використовуватися тільки цифри, латинські літери і символи **«&», «_», «-» чи «.»**.

-------------------------

Новий формат імені файлів Комерційних документів (COMDOC) на FTP приходить в 2-х варіаціях:

1. Якщо документ відправлено з web інтерфейсу, наприклад:

``comdoc_20210113093935_6d90825f-6743-490f-80f6-9e63565566ba_007.p7s``, де: 
  
* *comdoc* - `тип документу <https://wiki.edin.ua/uk/latest/integration_2_0/APIv2/Methods/EveryBody/StorageQuery.html#id8>`__;
* *20210113093935* - дата та час обробки файлу платформою EDI Network;
* *6d90825f-6743-490f-80f6-9e63565566ba* - doc id документу на платформі EDI Network;
* *007* - підтип Комерційного документа (COMDOC);
* *p7s* - розширення файлу.

2. Якщо документ відправлено інтегровано (з облікової системи), наприклад:

``comdoc_20210113093935_6d90825f-6743-490f-80f6-9e63565566ba_450966903100000155349_007.p7s``, де:  

* *comdoc* - `тип документу <https://wiki.edin.ua/uk/latest/integration_2_0/APIv2/Methods/EveryBody/StorageQuery.html#id8>`__;
* *20210113093935* - дата та час обробки файлу платформою EDI Network;
* *6d90825f-6743-490f-80f6-9e63565566ba* - doc id документу на платформі EDI Network;
* *450966903100000155349* - номер документу без спец.символів;
* *007* - підтип Комерційного документа (COMDOC).

-------------------------

Новий формат імені файлів EDI документів:

``desadv_20201229162503_16560359-a263-4f36-99e5-2e3f7ae1aa2e.xml``, де:

* *desadv* - `тип документу <https://wiki.edin.ua/uk/latest/integration_2_0/APIv2/Methods/EveryBody/StorageQuery.html#id7>`__;
* *20201229162503* - дата та час обробки файлу платформою EDI Network;
* *16560359-a263-4f36-99e5-2e3f7ae1aa2e* - doc id документу на платформі EDI Network;
* *xml* - розширення файлу.

-------------------------

.. ftps://ftp.edin.ua

Платформа EDIN також підтримує **FTPS** з'єднання, використовуючи такий тип з'єднання, порт буде: 990

  FTPS (File Transfer Protocol + SSL, або FTP / SSL) - це розширення широко використовуваного протоколу передачі даних FTP, яке додає підтримку для криптографічних протоколів рівнів транспортної безпеки і захищених сокетів.
